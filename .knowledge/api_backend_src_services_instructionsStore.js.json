{"is_source_file": true, "format": "JavaScript", "description": "This file implements an in-memory instructions store with functions to create, read, update, and delete instruction records, along with normalization and validation logic. It is part of an API backend for managing instruction data.", "external_files": [], "external_methods": [], "published": ["createInstruction", "listInstructions", "getInstructionById", "replaceInstruction", "patchInstruction", "deleteInstruction"], "classes": [], "methods": [{"name": "normalizeForApi(instruction)", "description": "Creates a shallow clone of an instruction object and ensures timestamps are in ISO string format.", "scope": "", "scopeKind": ""}, {"name": "isNonEmptyString(value)", "description": "Checks if a value is a non-empty string.", "scope": "", "scopeKind": ""}, {"name": "createInstruction(instruction)", "description": "Creates and stores a new instruction record in memory, enforcing id and slug uniqueness, and normalization.", "scope": "", "scopeKind": ""}, {"name": "listInstructions()", "description": "Returns all stored instructions as normalized records.", "scope": "", "scopeKind": ""}, {"name": "getInstructionById(id)", "description": "Retrieves an instruction by its id, normalized.", "scope": "", "scopeKind": ""}, {"name": "replaceInstruction(id, replacement)", "description": "Replaces an existing instruction by id with a new record, preserving createdAt, enforcing slug uniqueness.", "scope": "", "scopeKind": ""}, {"name": "patchInstruction(id, patch)", "description": "Modifies parts of an existing instruction record, enforcing slug uniqueness if changed.", "scope": "", "scopeKind": ""}, {"name": "deleteInstruction(id)", "description": "Deletes an instruction record by id.", "scope": "", "scopeKind": ""}], "calls": ["normalizeForApi", "isNonEmptyString", "instructionsById.has", "instructionsById.get", "instructionsById.set", "instructionsById.delete"], "search-terms": ["instructionsStore", "createInstruction", "listInstructions", "getInstructionById", "replaceInstruction", "patchInstruction", "deleteInstruction", "in-memory store", "instructions management"], "state": 2, "file_id": 37, "knowledge_revision": 149, "git_revision": "3d28793d1ccc4488ca7589e184a982fead9f0c05", "ctags": [{"_type": "tag", "name": "createInstruction", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^  createInstruction,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "createInstruction", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function createInstruction(instruction) {$/", "language": "JavaScript", "kind": "function", "signature": "(instruction)"}, {"_type": "tag", "name": "deleteInstruction", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function deleteInstruction(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getInstructionById", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function getInstructionById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "instructionsById", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^const instructionsById = new Map();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isNonEmptyString", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^function isNonEmptyString(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "listInstructions", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function listInstructions() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeForApi", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^function normalizeForApi(instruction) {$/", "language": "JavaScript", "kind": "function", "signature": "(instruction)"}, {"_type": "tag", "name": "patchInstruction", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function patchInstruction(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "replaceInstruction", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^async function replaceInstruction(id, replacement) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, replacement)"}, {"_type": "tag", "name": "slugToId", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/instructionsStore.js", "pattern": "/^const slugToId = new Map();$/", "language": "JavaScript", "kind": "constant"}], "hash": "93cc2890b308946416367fa553cb327c", "format-version": 4, "code-base-name": "api_backend", "filename": "api_backend/src/services/instructionsStore.js", "fields": [{"name": "createInstruction,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"149": "3d28793d1ccc4488ca7589e184a982fead9f0c05"}]}