{"is_source_file": true, "format": "JavaScript", "description": "The file defines a service module for managing Employee records in a MongoDB database, including functions for creating, listing, retrieving, updating, patching, deleting, and clearing employee data. It converts database documents to API response objects and handles errors such as duplicate employee IDs.", "external_files": ["../db/models/Employee", "../db/mongoErrors"], "external_methods": ["Employee.create", "Employee.find", "Employee.findOne", "Employee.findOneAndUpdate", "Employee.deleteOne", "Employee.deleteMany"], "published": ["createEmployee", "listEmployees", "getEmployeeById", "replaceEmployee", "patchEmployee", "deleteEmployee", "clearAll"], "classes": [], "methods": [{"name": "normalizeForApi(employee)", "description": "Converts a MongoDB document or plain object to a normalized object suitable for API responses, ensuring date fields are ISO strings.", "scope": "", "scopeKind": ""}, {"name": "createEmployee(employee)", "description": "Creates and stores a new employee in MongoDB, enforcing uniqueness via employeeId, and handles duplicate errors.", "scope": "", "scopeKind": ""}, {"name": "listEmployees()", "description": "Retrieves all employee records and normalizes them for API responses.", "scope": "", "scopeKind": ""}, {"name": "getEmployeeById(employeeId)", "description": "Fetches an employee by employeeId, returning a normalized object or undefined if not found.", "scope": "", "scopeKind": ""}, {"name": "replaceEmployee(employeeId, replacement)", "description": "Replaces an existing employee record (by employeeId) with new data, preserving createdAt.", "scope": "", "scopeKind": ""}, {"name": "patchEmployee(employeeId, patch)", "description": "Applies a partial update to an employee record identified by employeeId.", "scope": "", "scopeKind": ""}, {"name": "deleteEmployee(employeeId)", "description": "Deletes an employee record by employeeId and returns whether deletion was successful.", "scope": "", "scopeKind": ""}, {"name": "clearAll()", "description": "Removes all employee records from the store.", "scope": "", "scopeKind": ""}], "calls": ["Employee.create", "Employee.find", "Employee.findOne", "Employee.findOneAndUpdate", "Employee.deleteOne", "Employee.deleteMany", "mapMongoError"], "search-terms": ["employeesStore", "MongoDB Employee management", "normalizeEmployee", "createEmployee", "listEmployees", "getEmployeeById", "replaceEmployee", "patchEmployee", "deleteEmployee", "clearAllEmployees"], "state": 2, "file_id": 17, "knowledge_revision": 232, "git_revision": "ce6bcc1703ec7244471cf5453c23a3fa20df126a", "revision_history": [{"45": "a647b89e88629e2c577ee7bc15a768720fc7b6b3"}, {"53": "7e0b9238909b31e33b0106201dc9350607560f30"}, {"60": "1613a5de812408e2a6f4093f6e4f7960b1b00fcf"}, {"68": "dc8dc97101cc531b0ca6ad10cee555069c601cdf"}, {"213": "dc8dc97101cc531b0ca6ad10cee555069c601cdf"}, {"232": "ce6bcc1703ec7244471cf5453c23a3fa20df126a"}], "ctags": [{"_type": "tag", "name": "Employee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^const Employee = require('..\\/db\\/models\\/Employee');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function clearAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createEmployee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^  createEmployee,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "createEmployee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function createEmployee(employee) {$/", "language": "JavaScript", "kind": "function", "signature": "(employee)"}, {"_type": "tag", "name": "deleteEmployee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function deleteEmployee(employeeId) {$/", "language": "JavaScript", "kind": "function", "signature": "(employeeId)"}, {"_type": "tag", "name": "getEmployeeById", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function getEmployeeById(employeeId) {$/", "language": "JavaScript", "kind": "function", "signature": "(employeeId)"}, {"_type": "tag", "name": "listEmployees", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function listEmployees() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeForApi", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^function normalizeForApi(employee) {$/", "language": "JavaScript", "kind": "function", "signature": "(employee)"}, {"_type": "tag", "name": "patchEmployee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function patchEmployee(employeeId, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(employeeId, patch)"}, {"_type": "tag", "name": "replaceEmployee", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/employeesStore.js", "pattern": "/^async function replaceEmployee(employeeId, replacement) {$/", "language": "JavaScript", "kind": "function", "signature": "(employeeId, replacement)"}], "hash": "aefb018a90b45e41af4816e7b3b21c00", "format-version": 4, "code-base-name": "api_backend", "filename": "api_backend/src/services/employeesStore.js", "fields": [{"name": "createEmployee,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}