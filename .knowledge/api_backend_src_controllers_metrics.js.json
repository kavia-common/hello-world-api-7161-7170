{"is_source_file": true, "format": "JavaScript", "description": "This file defines a MetricsController class for an API backend, which provides endpoints for aggregating and summarizing metrics related to employees, learning paths, skill factories, assessments, and feedback within the project. It includes utility functions for data processing and inference, as well as methods for generating high-level summaries and detailed reports.", "external_files": ["../services/employeesStore", "../services/skillFactoriesStore", "../services/learningPathsStore", "../services/assessmentsStore", "../services/feedbackStore"], "external_methods": ["employeesStore.listEmployees", "skillFactoriesStore.listSkillFactories", "learningPathsStore.listLearningPaths", "assessmentsStore.listAssessments", "feedbackStore.listFeedback"], "published": ["MetricsController"], "classes": [{"name": "MetricsController", "description": "Controller class providing metrics-related API endpoints for high-level summaries and per-entity breakdowns."}], "methods": [{"name": "summary(req, res)", "description": "Returns a comprehensive metrics summary across employees, learning paths, skill factories, assessments, and feedback.", "scope": "MetricsController", "scopeKind": "class"}, {"name": "learningPaths(req, res)", "description": "Returns metrics highlighting for each learning path, including enrollment and completion stats.", "scope": "MetricsController", "scopeKind": "class"}, {"name": "skillFactories(req, res)", "description": "Returns metrics highlighting for each skill factory, including mentor and employee counts and pool statuses.", "scope": "MetricsController", "scopeKind": "class"}, {"name": "computeLearningPathHighlights(learningPaths)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "computeMarksAverage(items)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "computeSkillFactoryHighlights(skillFactories)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "inferEmployeeBilled(employee)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "parseDateToMs(value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeArray(value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeLowerString(value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "toFiniteNumber(value)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["employeesStore.listEmployees()", "skillFactoriesStore.listSkillFactories()", "learningPathsStore.listLearningPaths()", "assessmentsStore.listAssessments()", "feedbackStore.listFeedback()"], "search-terms": ["MetricsController", "computeLearningPathHighlights", "computeSkillFactoryHighlights", "inferEmployeeBilled", "aggregate metrics", "API backend metrics", "learning paths summary", "skill factories summary"], "state": 2, "file_id": 30, "knowledge_revision": 112, "git_revision": "4916c28216440bcec48a381e00f1b2af5abd4d72", "ctags": [{"_type": "tag", "name": "MetricsController", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^class MetricsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "assessmentsStore", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^const assessmentsStore = require('..\\/services\\/assessmentsStore');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "averageDuration", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      averageDuration, \\/\\/ null when not computable$/", "language": "JavaScript", "kind": "field", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "completedCount", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      completedCount: learningHighlights.reduce((a, x) => a + x.completed, 0),$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "computeLearningPathHighlights", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function computeLearningPathHighlights(learningPaths) {$/", "language": "JavaScript", "kind": "function", "signature": "(learningPaths)"}, {"_type": "tag", "name": "computeMarksAverage", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function computeMarksAverage(items) {$/", "language": "JavaScript", "kind": "function", "signature": "(items)"}, {"_type": "tag", "name": "computeSkillFactoryHighlights", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function computeSkillFactoryHighlights(skillFactories) {$/", "language": "JavaScript", "kind": "function", "signature": "(skillFactories)"}, {"_type": "tag", "name": "employeesStore", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^const employeesStore = require('..\\/services\\/employeesStore');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "enrolledCount", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      enrolledCount: learningHighlights.reduce((a, x) => a + x.enrolled, 0),$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^module.exports = new MetricsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "feedbackStore", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^const feedbackStore = require('..\\/services\\/feedbackStore');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inProgressCount", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      inProgressCount: learningHighlights.reduce((a, x) => a + x.inProgress, 0),$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "inferEmployeeBilled", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function inferEmployeeBilled(employee) {$/", "language": "JavaScript", "kind": "function", "signature": "(employee)"}, {"_type": "tag", "name": "learningPaths", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^  async learningPaths(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "MetricsController", "scopeKind": "class"}, {"_type": "tag", "name": "learningPathsStore", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^const learningPathsStore = require('..\\/services\\/learningPathsStore');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "learningTotals", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^    const learningTotals = {$/", "language": "JavaScript", "kind": "class", "scope": "MetricsController.summary", "scopeKind": "class"}, {"_type": "tag", "name": "parseDateToMs", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function parseDateToMs(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "safeArray", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function safeArray(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "safeLowerString", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function safeLowerString(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "skillFactories", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^  async skillFactories(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "MetricsController", "scopeKind": "class"}, {"_type": "tag", "name": "skillFactoriesStore", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^const skillFactoriesStore = require('..\\/services\\/skillFactoriesStore');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "skillFactoriesSummary", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^    const skillFactoriesSummary = {$/", "language": "JavaScript", "kind": "class", "scope": "MetricsController.summary", "scopeKind": "class"}, {"_type": "tag", "name": "summary", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^  async summary(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "MetricsController", "scopeKind": "class"}, {"_type": "tag", "name": "toFiniteNumber", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^function toFiniteNumber(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "topPaths", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      topPaths: learningHighlights.slice(0, 5).map((x) => ({$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "totalMentors", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      totalMentors,$/", "language": "JavaScript", "kind": "field", "scope": "MetricsController.summary.skillFactoriesSummary", "scopeKind": "class"}, {"_type": "tag", "name": "totals", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      totals: learningHighlights.length,$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class"}, {"_type": "tag", "name": "totals", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/controllers/metrics.js", "pattern": "/^      totals: skillHighlights.length,$/", "language": "JavaScript", "kind": "property", "scope": "MetricsController.summary.skillFactoriesSummary", "scopeKind": "class"}], "hash": "7aa0bdbc0fb0bcafbaf9b0c6a1aaa94c", "format-version": 4, "code-base-name": "api_backend", "filename": "api_backend/src/controllers/metrics.js", "fields": [{"name": "averageDuration, \\/\\/ null when not computable", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "completedCount: learningHighlights.reduce((a, x) => a + x.completed, 0),", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "enrolledCount: learningHighlights.reduce((a, x) => a + x.enrolled, 0),", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new MetricsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "inProgressCount: learningHighlights.reduce((a, x) => a + x.inProgress, 0),", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "topPaths: learningHighlights.slice(0, 5).map((x) => ({", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "totalMentors,", "scope": "MetricsController.summary.skillFactoriesSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "totals: learningHighlights.length,", "scope": "MetricsController.summary.learningTotals", "scopeKind": "class", "description": "unavailable"}, {"name": "totals: skillHighlights.length,", "scope": "MetricsController.summary.skillFactoriesSummary", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"112": "4916c28216440bcec48a381e00f1b2af5abd4d72"}]}