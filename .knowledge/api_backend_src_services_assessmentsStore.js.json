{"is_source_file": true, "format": "JavaScript", "description": "This file defines service functions for handling 'Assessment' records in a MongoDB database, including create, read, update, delete (CRUD) operations, and normalization for API responses.", "external_files": ["../db/models/Assessment", "../db/mongoErrors"], "external_methods": ["Assessment.create", "Assessment.find", "Assessment.findOne", "Assessment.findOneAndUpdate", "Assessment.deleteOne", "Assessment.deleteMany", "mapMongoError"], "published": ["createAssessment", "listAssessments", "getAssessmentById", "replaceAssessment", "patchAssessment", "deleteAssessment", "clearAll"], "classes": [], "methods": [{"name": "normalizeForApi(record)", "description": "Converts an Assessment record to a plain object, formatting dates for API use.", "scope": "", "scopeKind": ""}, {"name": "createAssessment(record)", "description": "Creates and stores an Assessment, enforcing unique assessmentId.", "scope": "", "scopeKind": ""}, {"name": "listAssessments()", "description": "Retrieves all stored Assessments.", "scope": "", "scopeKind": ""}, {"name": "getAssessmentById(assessmentId)", "description": "Retrieves an Assessment by its assessmentId.", "scope": "", "scopeKind": ""}, {"name": "replaceAssessment(assessmentId, replacement)", "description": "Replaces an existing Assessment record identified by assessmentId, preserving createdAt.", "scope": "", "scopeKind": ""}, {"name": "patchAssessment(assessmentId, patch)", "description": "Applies a partial update to an existing Assessment identified by assessmentId.", "scope": "", "scopeKind": ""}, {"name": "deleteAssessment(assessmentId)", "description": "Deletes an Assessment by assessmentId.", "scope": "", "scopeKind": ""}, {"name": "clearAll()", "description": "Removes all Assessment records from the store.", "scope": "", "scopeKind": ""}], "calls": ["Assessment.create", "Assessment.find", "Assessment.findOne", "Assessment.findOneAndUpdate", "Assessment.deleteOne", "Assessment.deleteMany", "mapMongoError"], "search-terms": ["assessmentsStore", "assessmentId", "Assessment model", "MongoDB assessment operations", "assessment API normalization"], "state": 2, "file_id": 26, "knowledge_revision": 235, "git_revision": "ce6bcc1703ec7244471cf5453c23a3fa20df126a", "revision_history": [{"100": "0360bf98e4eb0b6033498f5359b73c5428f6950e"}, {"217": "70692f10e6093a6b89251d9427a5d19e2bbbdf73"}, {"235": "ce6bcc1703ec7244471cf5453c23a3fa20df126a"}], "ctags": [{"_type": "tag", "name": "Assessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^const Assessment = require('..\\/db\\/models\\/Assessment');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function clearAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createAssessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^  createAssessment,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "createAssessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function createAssessment(record) {$/", "language": "JavaScript", "kind": "function", "signature": "(record)"}, {"_type": "tag", "name": "deleteAssessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function deleteAssessment(assessmentId) {$/", "language": "JavaScript", "kind": "function", "signature": "(assessmentId)"}, {"_type": "tag", "name": "getAssessmentById", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function getAssessmentById(assessmentId) {$/", "language": "JavaScript", "kind": "function", "signature": "(assessmentId)"}, {"_type": "tag", "name": "listAssessments", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function listAssessments() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeForApi", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^function normalizeForApi(record) {$/", "language": "JavaScript", "kind": "function", "signature": "(record)"}, {"_type": "tag", "name": "patchAssessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function patchAssessment(assessmentId, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(assessmentId, patch)"}, {"_type": "tag", "name": "replaceAssessment", "path": "/home/kavia/workspace/code-generation/hello-world-api-7161-7170/api_backend/src/services/assessmentsStore.js", "pattern": "/^async function replaceAssessment(assessmentId, replacement) {$/", "language": "JavaScript", "kind": "function", "signature": "(assessmentId, replacement)"}], "hash": "c1174468de6abd1f6c9239646b270303", "format-version": 4, "code-base-name": "api_backend", "filename": "api_backend/src/services/assessmentsStore.js", "fields": [{"name": "createAssessment,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}